<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report</title>

    <link href="/css/tailwind.css" rel="stylesheet">
    <script src="/env/env.js"></script>

</head>

<body onload="level()">

    <div class="px-10 pt-2 pb-5 text-sm">
        <table class="table-fixed w-full text-center text-black" height="170rem">
            <thead>
                <tr>
                    <th class="text-center border-b py-3">Sr. No.</th>
                    <th class="text-center border-b py-3">Recipie Name</th>
                    <th class="text-center border-b py-3">Product Name</th>
                    <th class="text-center border-b py-3">Tooling Drg. No.</th>
                    <th class="text-center border-b py-3">Size (mm)</th>
                    <th class="text-center border-b py-3">Shape</th>
                    <th class="text-center border-b py-3">Thickness (mm)</th>
                    <th class="text-center border-b py-3">Weight (mg)</th>
                    <th class="text-center border-b py-3">Tablet Hardness (kg)</th>
                    <th class="text-center border-b py-3">Dozer Pos. LHS (mm)</th>
                    <th class="text-center border-b py-3">Dozer Pos. RHS (mm)</th>
                    <th class="text-center border-b py-3">Set Force LHS (kN)</th>
                    <th class="text-center border-b py-3">Set Force RHS (kN)</th>
                    <th class="text-center border-b py-3">Set Force (Mono) (kN)</th>
                    <th class="text-center border-b py-3">Roller Pos. Pre LHS (mm)</th>
                    <th class="text-center border-b py-3">Roller Pos. Pre RHS (mm)</th>
                    <th class="text-center border-b py-3">Roller Pos. Main LHS (mm)</th>
                    <th class="text-center border-b py-3">Roller Pos. Main RHS (mm)</th>
                    <th class="text-center border-b py-3">Rejn. High LHS (mm)</th>
                    <th class="text-center border-b py-3">Rejn. Low LHS (mm)</th>
                    <!-- <th class="text-center border-b py-3">AWC High LHS</th> -->
                    <!-- <th class="text-center border-b py-3">AWC Low LHS</th> -->
                    <th class="text-center border-b py-3">Rejn. High RHS (kN)</th>
                    <th class="text-center border-b py-3">Rejn. Low RHS (kN)</th>
                    <th class="text-center border-b py-3">Rejn. High (Mono) (kN)</th>
                    <th class="text-center border-b py-3">Rejn. Low (Mono) (kN)</th>
                    <!-- <th class="text-center border-b py-3">AWC High RHS</th> -->
                    <!-- <th class="text-center border-b py-3">AWC Low RHS</th> -->
                    <th class="text-center border-b py-3">Rejection ON</th>
                    <th class="text-center border-b py-3">AWC ON</th>
                    <th class="text-center border-b py-3">Turret RPM</th>
                    <th class="text-center border-b py-3">Feeder RPM LHS</th>
                    <th class="text-center border-b py-3">Feeder RPM RHS</th>
                    <th class="text-center border-b py-3">AWC Tol %</th>
                    <th class="text-center border-b py-3">Hydraulic Pressure (kN)</th>
                    

                </tr>
            </thead>

            <tbody id="userlist">

            </tbody>
        </table>
    </div>

    <!-- Time -->
    <script>
        time = new Date().toLocaleString(undefined, { dateStyle: 'medium', timeStyle: 'medium', hour12: true, timeZone: 'Asia/Kolkata' });
        document.getElementById("time").innerHTML = new Date().toLocaleString(undefined, { dateStyle: 'medium', timeStyle: 'medium', hour12: true, timeZone: 'Asia/Kolkata' });
    </script>

    <!-- Populate Table -->
    <script>
        // level()
        async function level() {

            let submiturl = `http://localhost:3000/recipies`
            var batchlistt

            await fetch(submiturl)
                .then((resp) => resp.json())
                .then(function (data) {
                    batchlistt = data
                    console.log(data)
                })
                .catch(console.error);

            // console.log(batch);


            loadbatchlist();

            function loadbatchlist() {
                const batchListBody = document.getElementById('userlist');
                let batchHTML = '';
                var i = 0
                var dataa
                for (let batchh of batchlistt) {
                    dataa = batchlistt[i]
                    // console.log(dataa.id)
                    batchHTML += `<tr><td class="border border-gray-400 px-4 py-2">${i+1}</td><td class="border border-gray-400 px-4 py-2">${dataa.recn}</td><td class="border border-gray-400 px-4 py-2">${dataa.pname}</td><td class="border border-gray-400 px-4 py-2">${dataa.tooldrg}</td><td class="border border-gray-400 px-4 py-2">${dataa.size}</td><td class="border border-gray-400 px-4 py-2">${dataa.shape}</td><td class="border border-gray-400 px-4 py-2">${dataa.thickness}</td><td class="border border-gray-400 px-4 py-2">${dataa.weight}</td><td class="border border-gray-400 px-4 py-2">${dataa.hardness}</td><td class="border border-gray-400 px-4 py-2">${dataa.depthL}</td><td class="border border-gray-400 px-4 py-2">${dataa.depthR}</td><td class="border border-gray-400 px-4 py-2">${dataa.forceL}</td><td class="border border-gray-400 px-4 py-2">${dataa.forceR}</td><td class="border border-gray-400 px-4 py-2">${dataa.setF}</td><td class="border border-gray-400 px-4 py-2">${dataa.preL}</td><td class="border border-gray-400 px-4 py-2">${dataa.preR}</td><td class="border border-gray-400 px-4 py-2">${dataa.mainL}</td><td class="border border-gray-400 px-4 py-2">${dataa.mainR}</td><td class="border border-gray-400 px-4 py-2">${dataa.LHSrejnH}</td><td class="border border-gray-400 px-4 py-2">${dataa.LHSrejnL}</td><td class="border border-gray-400 px-4 py-2">${dataa.RHSrejnH}</td><td class="border border-gray-400 px-4 py-2">${dataa.RHSrejnL}</td><td class="border border-gray-400 px-4 py-2">${dataa.MonorejnH}</td><td class="border border-gray-400 px-4 py-2">${dataa.MonorejnL}</td><td class="border border-gray-400 px-4 py-2">${dataa.rejnON}</td><td class="border border-gray-400 px-4 py-2">${dataa.awcON}</td><td class="border border-gray-400 px-4 py-2">${dataa.rpm}</td><td class="border border-gray-400 px-4 py-2">${dataa.ff_lhs_rpm}</td><td class="border border-gray-400 px-4 py-2">${dataa.ff_rhs_rpm}</td><td class="border border-gray-400 px-4 py-2">${dataa.awctol}</td><td class="border border-gray-400 px-4 py-2">${dataa.hydp}</td></tr>`
                    i++
                }

                batchListBody.innerHTML = batchHTML;
            }
        }

        // level()

    </script>
</body>

</html>